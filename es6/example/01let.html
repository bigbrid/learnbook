<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>let</title>
	</head>
	<body>
		<button>按钮1</button>
		<button>按钮2</button>
		<button>按钮3</button>
		<button>按钮4</button>
		<button>按钮5</button>
		<div>
			<p>a</p>
			<p>b</p>
			<p>c</p>
			<p>d</p>
			<p>e</p>
		</div>
		<script>
			// 1.作用域不同
			// var 有变量提升,也就是不管var 在当前作用域的第几行,都会别提升至首行并初始化为undefined;
			
			// 例子: fn1 实际执行过程中会变成 fn2
			/*
			function fn1(){
				console.log(n)
				var n = 9;
			}
			function fn2(){
				var n; //var变量被提升至当前作用域首行
				console.log(n);
				n = 9;
			}
			*/
		   
		   
		   
			// let
			/*
			 function f1(){
			   let n;
			   console.log(n)    //声明但是没有赋值的，输出undefined
			}
			*/
		   
		   /*
		    function fn2(){
				console.log(n)   报错，
				let n = 9;		
		    }
		    //let变量没有被提升至当前作用域首行初始化为undefined；
			//ES6明确规定 在块级作用域内，let声明变量之前不能使用变量，语法上称之为"暂时性死区（TDZ）"；
			
			*/
			
			
			//2.不允许重复声明变量
			
			/*
			function fn1(){
				var n = 2;
				var n = 9;   
				console.log(n)   //相同作用域内可以重复声明相同变量，后赋值的会覆盖之前赋值的；
			}
			fn1();
			*/
		   
			/*
			function fn2(){
				let n = 2;
				let n = 9;   
				console.log(n)     //报错，let 不允许相同作用域内重复声明相同变量
			}
			fn2();
			*/
			
			
			//例子，选项卡
			//ES5
			function swichTabES5(){
				
				var btns = document.getElementsByTagName("button");
				
				var el_box = document.getElementsByTagName("div")[0];
				
				var el_p = el_box.getElementsByTagName("p");
				console.log(i,"变量提升 i被提升至作用域首行，初始化为undefined") 
				for (var i = 0; i < btns.length; i++) {   
					if(i!== 0){
						el_p[i].style.display="none";
					};
					(function(n){ 					
						btns[i].onclick = function(){
							for (var j = 0; j < btns.length; j++) {
								el_p[j].style.display="none";
							}
							el_p[n].style.display="block";
						}
					})(i)
				}
				console.log(i,"for同步函数")   //for循环是同步执行函数，会循环至最后一个才打印
			}
			
			
			
			swichTabES6()
		</script>
	</body>
</html>
